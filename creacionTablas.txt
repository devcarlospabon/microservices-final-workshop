# MongoDB - Python (Mongoose-like schema for reference)
from pymongo import MongoClient
from bson.objectid import ObjectId

class User:
    def __init__(self, username, email, password_hash, roles, created_at):
        self._id = ObjectId()
        self.username = username
        self.email = email
        self.password_hash = password_hash
        self.roles = roles
        self.created_at = created_at

# Example schema fields:
# - _id: ObjectId (unique identifier)
# - username: String (unique)
# - email: String (unique)
# - password_hash: String (hashed password)
# - roles: Array of strings (e.g., ["admin", "user"])
# - created_at: DateTime
-- PostgreSQL
CREATE TABLE banks (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL UNIQUE,
    address TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
-- PostgreSQL
CREATE TABLE accounts (
    id SERIAL PRIMARY KEY,
    account_number VARCHAR(20) NOT NULL UNIQUE,
    bank_id INT NOT NULL REFERENCES banks(id),
    account_holder_name VARCHAR(255) NOT NULL,
    balance NUMERIC(15, 2) DEFAULT 0.00,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE account_movements (
    id SERIAL PRIMARY KEY,
    account_id INT NOT NULL REFERENCES accounts(id),
    movement_type VARCHAR(50) NOT NULL, -- e.g., "deposit", "withdrawal"
    amount NUMERIC(15, 2) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
-- PostgreSQL
CREATE TABLE transactions (
    id SERIAL PRIMARY KEY,
    source_account_id INT NOT NULL REFERENCES accounts(id),
    destination_account_id INT,
    amount NUMERIC(15, 2) NOT NULL,
    transaction_type VARCHAR(50) NOT NULL, -- e.g., "withdrawal", "deposit", "interbank"
    tax NUMERIC(15, 2) NOT NULL,
    status VARCHAR(50) DEFAULT 'pending', -- e.g., "pending", "completed"
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
-- PostgreSQL
CREATE TABLE interbank_transfers (
    id SERIAL PRIMARY KEY,
    transaction_id INT NOT NULL REFERENCES transactions(id),
    tax NUMERIC(15, 2) NOT NULL,
    processed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);